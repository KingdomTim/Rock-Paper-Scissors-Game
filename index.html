<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UFT-8">
        <title>Rock Paper Scissors Game</title>
        <link rel="stylesheet" href="styles.css"/>
    </head>
<body>
    <div class = "rpsGame">
        <div class = "title">
        ROCK PAPER SCISSORS
        </div>
        <div class = "playerChoice">
            Player Choice: 
        </div>
        <div class = "playerSelection">
            <img src ="rock.png" id ="rock">
            <img src ="paper.png" id = "paper">
            <img src = "scissors.png" id ="scissors">
        </div>
        <div class = "results">
        </div>
        <div class = "score">
            Score: 0 to 0
        </div>
        <div class = "winOrLose">
        </div>
        <div class = "playAgain">
        </div>
        <div class = "computerSelection">    
                <img src ="rock.png" class="compRock">
                <img src ="paper.png" class="compPaper">
                <img src ="scissors.png" class="compScissors">
        </div>
        <div class = "compChoice">
            Computer Choice: 
        </div>
        </div>
    </div>
</div>
    
    <script>

        let playerScore = 0
        let computerScore = 0

        const rock = document.querySelector('#rock')
        rock.addEventListener('click', (e) => {
        playRound(e.target.getAttribute('id')) 
        })

        const paper = document.querySelector('#paper')
        paper.addEventListener('click', (e) => {
        playRound(e.target.getAttribute('id'))
        })

        const scissors = document.querySelector('#scissors')
        scissors.addEventListener('click', (e) => {
        playRound(e.target.getAttribute('id'))
        })

        const compSelection = document.querySelector('.computerSelection')
        const results = document.querySelector('.results')
        const rpsGame = document.querySelector('.rpsGame')
        const score = document.querySelector('.score')
        const winOrLose = document.querySelector('.winOrLose')
        const playAgain = document.querySelector('.playAgain')
        const compChoice = document.querySelector('.compChoice')
        const playerChoice = document.querySelector('.playerChoice')
        const compRock = document.querySelector('.compRock')
        const compPaper = document.querySelector('.compPaper')
        const compScissors = document.querySelector('.compScissors')

        function restartGame() {
            score.textContent = ('Score: 0 to 0')
            playerChoice.textContent =('Player Choice:')
            compChoice.textContent =('Computer Choice:')
            results.textContent =('')
            winOrLose.textContent =('')
            playAgain.textContent =('')
             playerScore = 0
             computerScore = 0
        }

        function checkScore() {
            if (playerScore === 5) {
                winOrLose.textContent = ('Congratulations! You Won!')
                playAgain.textContent =('Do you want to play again?')
                const yes = document.createElement('button')
                const no = document.createElement('button')
                yes.textContent = 'Yes'
                yes.style.width = '80px'
                no.textContent = 'No'
                playAgain.appendChild(yes)
                playAgain.appendChild(no)
                yes.addEventListener('click',(e) => {
                    restartGame()
                })
                no.addEventListener('click',(e) => {
                    playAgain.textContent = ('Thanks for playing!')
                })
            } else if (computerScore === 5) {
                winOrLose.textContent = ('You lost')
                playAgain.textContent =('Do you want to play again?')
                const yes = document.createElement('button')
                const no = document.createElement('button')
                yes.textContent = 'Yes'
                no.textContent = 'No'
                playAgain.appendChild(yes)
                playAgain.appendChild(no)
                yes.addEventListener('click',(e) => {
                    restartGame()
                })
                no.addEventListener('click',(e) => {
                    playAgain.textContent = ('Thanks for playing!')
                })
            }
        }
    

        function computerPlay() {
            if (Math.floor(Math.random() * 3) === 0) {
                compRock.classList.add("active")
                setTimeout(() => {
                    compRock.classList.remove("active");
                },300);
                return("Rock")
            } else if (Math.floor(Math.random() * 3) === 1) {
                compPaper.classList.add("active")
                setTimeout(() => {
                    compPaper.classList.remove("active");
                },300);
                return("Paper")
            } else {
                compScissors.classList.add("active")
                setTimeout(() => {
                    compScissors.classList.remove("active");
                },300);
                return("Scissors")
            }
        } 


        function playRound(playerSelection, computerSelection) {
            let e = playerSelection;
            e = document.querySelector(`id`)
            computerSelection = computerPlay() 

            switch (true) {
                case (playerSelection === "rock" && computerSelection === "Scissors"):
                case (playerSelection === "paper" && computerSelection === "Rock"):
                case (playerSelection === "scissors" && computerSelection === "Paper"):
                    playerChoice.classList.add("yellow")
                    setTimeout(() => {
                    playerChoice.classList.remove("yellow");
                    },100);
                    playerChoice.textContent = ("Player Choice: " + playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1))
                    compChoice.classList.add("yellow")
                    setTimeout(() => {
                        compChoice.classList.remove("yellow");
                    },100);
                    compChoice.textContent = ("Computer Choice: " + computerSelection)
                    results.classList.remove("red")
                    results.classList.remove("grey")
                    results.classList.add("green")
                    results.textContent = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1) + (" beats ") + computerSelection + (". You Win this round!" )
                    score.textContent = ("Score: " + ++playerScore + " to " + computerScore)
                    break; 
                case (playerSelection === "rock" && computerSelection === "Rock"):
                case (playerSelection === "paper" && computerSelection === "Paper"):
                case (playerSelection === "scissors" && computerSelection === "Scissors"):
                    playerChoice.classList.add("yellow")
                    setTimeout(() => {
                        playerChoice.classList.remove("yellow");
                    },100);
                    playerChoice.textContent = ("Player Choice: " + playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1))
                    compChoice.classList.add("yellow")
                    setTimeout(() => {
                        compChoice.classList.remove("yellow");
                    },100);
                    compChoice.textContent = ("Computer Choice: " + computerSelection) 
                    results.classList.remove("red")
                    results.classList.remove("green")
                    results.classList.add("grey")
                    results.textContent = (" You have both picked the same choice. It is a draw!")
                    score.textContent = ("Score: " + playerScore + " to " + computerScore)
                    break;
                case (playerSelection === "rock" && computerSelection === "Paper"):
                case (playerSelection === "paper" && computerSelection === "Scissors"):
                case (playerSelection === "scissors" && computerSelection === "Rock"):
                    playerChoice.classList.add("yellow")
                    setTimeout(() => {
                        playerChoice.classList.remove("yellow");
                    },100);
                    playerChoice.textContent = ("Player Choice: " + playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1))
                    compChoice.classList.add("yellow")
                    setTimeout(() => {
                        compChoice.classList.remove("yellow");
                    },100);
                    compChoice.textContent = ("Computer Choice: " + computerSelection)
                    results.classList.remove("green")
                    results.classList.remove("grey") 
                    results.classList.add("red")
                    results.textContent = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1) + (" loses to ") + computerSelection + (". You lost this round!") 
                    score.textContent = ("Score: " + playerScore + " to " + ++computerScore)
                    break;
                default: 
                    alert("You made an invalid choice! Choose either Rock, Paper, or Scissors!")
            }
            
            checkScore()
        }       

    </script>        

</body>

</html>
        